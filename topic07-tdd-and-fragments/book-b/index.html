 <!DOCTYPE html>
 <html>
   <head>

     <link href='https://fonts.googleapis.com/css?family=Open+Sans' rel='stylesheet' type='text/css'>

     <meta charset="utf-8">
     <meta name="viewport" content="width=device-width, initial-scale=1">

     <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/semantic-ui/2.2.4/semantic.min.css" type="text/css">
     <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/8.9.1/styles/solarized_light.min.css" rel="stylesheet" />

     <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.1.1/jquery.min.js"></script>
     <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/jquery.address/1.6/jquery.address.min.js"></script>
     <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/semantic-ui/2.2.4/semantic.min.js"></script>
     <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/8.9.1/highlight.min.js"></script>
     <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/8.9.1/languages/java.min.js"></script>
     <script>hljs.initHighlightingOnLoad();</script>

      <style>
        

body 
{
  font-family: "Open Sans", "Helvetica", "Helvetica Neue",  "Arial", sans-serif;
}

figcaption
{
  margin-bottom: 20px;
}

.vertical-align
{
  display: flex;
  align-items: center;
}

.Site {
  display: flex;
  min-height: 100vh;
  flex-direction: column;
}

.Site-content {
  flex: 1;
}


    </style>

  </head>

  <body>
    

<style>
  

code
{
  font-family: "Monaco";
  font-size: 110%;
}

img
{
  padding:1px;
  border:1px solid black;
}

h1
{
  font-style:italic;
  font-size:130%;
  border-bottom: thin solid black;
}
h2
{
  font-size:110%;
  border-bottom: thin solid black;
}
h3
{
  font-size:100%;
  border-bottom: thin solid black;
}



</style>


<div class="ui segment pushable">
  <div class="ui inverted labeled icon left inline vertical sidebar menu">
    
      
        <a class="item" href="../../topic01-overview-and-tools/book-a-android-tools-01/index.html">
          Android-Tools-01
        </a>
      
    
      
        <a class="item" href="../../topic01-overview-and-tools/book-b-donation-01/index.html">
          Donation-01
        </a>
      
    
      
        <a class="item" href="../../topic01-overview-and-tools/book-c-android-tools-02/index.html">
          Android-Tools-02
        </a>
      
    
      
        <a class="item" href="../../topic02-activities-and-layouts/book-a-donation-02/index.html">
          Donation-02
        </a>
      
    
      
        <a class="item" href="../../topic03-navigation-and-app-structure/book-a-donation-03/index.html">
          Donation-03
        </a>
      
    
      
        <a class="item" href="../../topic03-navigation-and-app-structure/book-b-myrent-00/index.html">
          MyRent-00
        </a>
      
    
      
        <a class="item" href="../../topic03-navigation-and-app-structure/book-c-myrent-01/index.html">
          MyRent-01
        </a>
      
    
      
        <a class="item" href="../../topic04-widgets-and-events/book-a-myrent-02/index.html">
          MyRent-02
        </a>
      
    
      
        <a class="item" href="../../topic04-widgets-and-events/book-b-event-handling/index.html">
          Event-Handling
        </a>
      
    
      
        <a class="item" href="../../topic05-listview-and-lifecycles/book-a-myrent-03/index.html">
          MyRent-03
        </a>
      
    
      
        <a class="item" href="../../topic05-listview-and-lifecycles/book-b-myrent-04/index.html">
          MyRent-04
        </a>
      
    
      
        <a class="item" href="../../topic05-listview-and-lifecycles/book-c-myrent-05/index.html">
          MyRent-05
        </a>
      
    
      
        <a class="item" href="../../topic05-listview-and-lifecycles/book-d-event-handler-soln/index.html">
          Event-Handling-Solution
        </a>
      
    
      
        <a class="item" href="../../topic06-streams-and-fileio/book-a/index.html">
          MyRent-06
        </a>
      
    
      
        <a class="item" href="../../topic06-streams-and-fileio/book-b/index.html">
          MyRent-07
        </a>
      
    
      
        <a class="item" href="../../topic07-tdd-and-fragments/book-a/index.html">
          TDD-01
        </a>
      
    
      
        <a class="active item" href="../../topic07-tdd-and-fragments/book-b/index.html">
          MyRent-08
        </a>
      
    
      
        <a class="item" href="../../topic08-jpa-and-maps/book-a-jpa-01/index.html">
          JPA-01
        </a>
      
    
      
        <a class="item" href="../../topic08-jpa-and-maps/book-b-jpa-02/index.html">
          JPA-02
        </a>
      
    
      
        <a class="item" href="../../topic08-jpa-and-maps/book-c-myrent-09/index.html">
          MyRent-09
        </a>
      
    
      
        <a class="item" href="../../topic09-rest-services/book-a-donation-04/index.html">
          Donation-04
        </a>
      
    
      
        <a class="item" href="../../topic09-rest-services/book-b-donation-05/index.html">
          Donation-05
        </a>
      
    
      
        <a class="item" href="../../topic09-rest-services/book-c-donation-06/index.html">
          Donation-06
        </a>
      
    
      
        <a class="item" href="../../topic10-rest-client/book-a-donation-07/index.html">
          Donation-07
        </a>
      
    
      
        <a class="item" href="../../topic10-rest-client/book-b-donation-08/index.html">
          Donation-08
        </a>
      
    
      
        <a class="item" href="../../topic10-rest-client/book-c-assign2-studio/index.html">
          MyTweet-Assignment-Studio
        </a>
      
    
      
        <a class="item" href="../../topic11-assignment-studio/book-a-donation-09/index.html">
          Donation-09
        </a>
      
    
      
        <a class="item" href="../../topic11-assignment-studio/book-b-assign2-studio/index.html">
          MyTweet-Assignment-Studio-01
        </a>
      
    
      
        <a class="item" href="../../topic12-android-services/book-a-donation-10/index.html">
          Donation-10
        </a>
      
    
      
        <a class="item" href="../../topic12-android-services/book-b-assign2-studio/index.html">
          MyTweet-Assignment-Studio-02
        </a>
      
    
      
        <a class="item" href="../../topic12-android-services/book-c-assign2-studio/index.html">
          MyTweet-Assignment-Studio-03
        </a>
      
    
  </div>
  <div class="pusher">
    <div class="ui basic segment">

      <div class="ui fixed top pointing inverted menu labmenu">
        <header class="header item">
          <i id="toc" class="sitemap icon"></i>
          <a href="../index.html">
            7: TDD & ViewPager
          </a>
        </header>
        <div class="right tab-menu menu">
          
            <a class="item" data-tab="MyRent-08">
              MyRent-08
            </a>
          
            <a class="item" data-tab="01">
              01
            </a>
          
            <a class="item" data-tab="02">
              02
            </a>
          
            <a class="item" data-tab="03">
              03
            </a>
          
            <a class="item" data-tab="04">
              04
            </a>
          
            <a class="item" data-tab="05">
              05
            </a>
          
            <a class="item" data-tab="06">
              06
            </a>
          
            <a class="item" data-tab="07">
              07
            </a>
          
            <a class="item" data-tab="08">
              08
            </a>
          
            <a class="item" data-tab="09">
              09
            </a>
          
            <a class="item" data-tab="10">
              10
            </a>
          
          </div>
      </div>

      <br><br>

      
      <div  class="ui tab segment lab" data-tab="MyRent-08">
        <h1>Embedded Map &amp; Orientation</h1>
<p>Introduce a Google Map including necessary supporting resources such as Google Play Services Library and a personal API key. Additionally, support a landscape layout, validation of geolocation input, immediate mirroring any changes in this input in the view title and support for smaller small factor devices.</p>

      </div>
     
      <div  class="ui tab segment lab" data-tab="01">
        <h1>Preview</h1>
<p>Continue building the MyRent app that you developed in the previous lab.</p>
<p>For reference, we are providing a version here of the completed MyRent-07:</p>
<pre><code>git clone https://github.com/wit-computing/myrent-07.git</code></pre>
<p>Here we shall embed a Google map in the ResidenceFragment class. This entails using:</p>
<ul>
<li>Google Play Services Library and</li>
<li>A Google API key</li>
<li>Modifying the XML layout</li>
<li>Adding the necessary Java code</li>
</ul>
<p>The layout shall be refactored as shown here.</p>
<p><img src="img/17.png" alt="Figure 1: Embedding Google Map in ResidenceFragment"></p>
<p>Additionally, we shall: </p>
<ul>
<li>Make the non-map part of the details view scrollable.</li>
<li>Modify a copy of the layout suitable to display the details view in landscape mode.</li>
</ul>
<p><img src="img/27.png" alt="Figure 2: Landscape mode added. Landscape and Portrait scrollable"></p>
<p>The instructions in this lab refer to development in <em>debug mode</em>. This means that the application you develop will not be suitable to publish on Play. Further information is available about this topic is available <a href="http://developer.android.com/tools/publishing/app-signing.html">here</a> and <a href="http://developer.android.com/distribute/tools/launch-checklist.html">here</a>.</p>

      </div>
     
      <div  class="ui tab segment lab" data-tab="02">
        <h1>Google Play Services</h1>
<p>Google Play services may already have been installed as shown in Figure 1.</p>
<ul>
<li>If not, install it as shown in Figures 2 and 3.</li>
</ul>
<p><img src="img/01.png" alt="Figure 1: Google Play services installed"></p>
<p><img src="img/02.png" alt="Figure 2: Select Google Play services for installation"></p>
<p><img src="img/03.png" alt="Figure 3: Accept licence to install Google Play services"></p>
<p>Play services APIs are required to embed Google Maps in our application.</p>
<p>It is necessary that you add a new build rule in the dependencies section of the app&#39;s build.gradle and sync the project (as prompted):</p>
<pre><code>apply plugin: &#39;com.android.application&#39;
    ...

    dependencies {
        ...
        ...
        compile &#39;com.google.android.gms:play-services:7.5.0&#39;
    }</code></pre>
<p>This is the complete build.gradle at this stage of the development.</p>
<pre><code>apply plugin: &#39;com.android.application&#39;

android {
  compileSdkVersion 23
  buildToolsVersion &quot;23&quot;

  defaultConfig {
    applicationId &quot;org.wit.myrent&quot;
    minSdkVersion 16
    targetSdkVersion 19
    versionCode 1
    versionName &quot;1.0&quot;
  }
  buildTypes {
    release {
      minifyEnabled false
      proguardFiles getDefaultProguardFile(&#39;proguard-android.txt&#39;), &#39;proguard-rules.pro&#39;
    }
  }
}

dependencies {
  compile fileTree(dir: &#39;libs&#39;, include: [&#39;*.jar&#39;])
  compile &#39;com.android.support:support-v4:23.0.1&#39;
  compile &#39;com.google.android.gms:play-services:7.5.0&#39;

}</code></pre>

      </div>
     
      <div  class="ui tab segment lab" data-tab="03">
        <h1>API Key</h1>
<p>We recommend that you become familiar with the official documentation for <a href="https://developers.google.com/maps/documentation/android/start#overview">Google Maps Android API v2</a>.</p>
<p>It is necessary to obtain an API key before using the Google Maps API. This can be achieved as follows:</p>
<ul>
<li>Retrieve your SHA-1 Fingerprint<ul>
<li>A SHA-1 fingerprint is a unique text string required by Google Maps to identify your application.</li>
<li>One easy way of obtaining the SHA-1 fingerprint associated with your machine is to create a new default project in Android Studio in which you create a Google Maps Activity. See Figure 1.<ul>
<li>The fingerprint is then available in the file <em>google_maps_api.xml</em> as shown in Figure 2.</li>
</ul>
</li>
</ul>
</li>
</ul>
<p><img src="img/09.png" alt="Figure 1: Android Studio project with Google Maps Activity"></p>
<p><img src="img/09a.png" alt="Figure 2: SHA1 fingerprint"></p>
<ul>
<li>Register a Google account (or use an existing one) and sign in.</li>
<li>Open the <a href="https://cloud.google.com/console">Google API Console</a><ul>
<li>Create a project named, for example, <em>myrent</em> (Figures 3 &amp; 4).</li>
</ul>
</li>
</ul>
<p><img src="img/10.png" alt="Figure 3: Create new project">
<img src="img/11.png" alt="Figure 4: New Project"></p>
<ul>
<li>Select Credentials in the Projects column and press the <em>Create new key</em> button (Figure 5).</li>
</ul>
<p><img src="img/12.png" alt="Figure 5: Create new key"></p>
<ul>
<li>The <em>Create a new key</em> window opens: press the <em>Android key</em> button (Figure 6).</li>
</ul>
<p><img src="img/13.png" alt="Figure 6: Create an Android key"></p>
<ul>
<li>A window similar to that illustrated in Figure 6 now opens:<ul>
<li>Paste the SHA-1 Fingerprint into the the area indicated, followed by a semi-colon, followed by the project package name.</li>
<li>Example: 45:B8:A9:...DE;org.wit.myrent</li>
<li>Press the Create button.</li>
</ul>
</li>
</ul>
<p><img src="img/14.png" alt="Figure 7: Create an Android key and configure allowed Android applications"></p>
<ul>
<li>A window showing the key and other relevant information should then appear as shown in Figure 8.</li>
</ul>
<p><img src="img/15.png" alt="Figure 8: Public API access"></p>
<ul>
<li>Switch on Google Maps Android API v2<ul>
<li>Select APIS &amp; AUTH and then APIs in the left-hand Projects column  scroll to Google Maps Android API v2</li>
<li>The button on the right should be off: if so, press it to turn it ON (Figure 9).</li>
</ul>
</li>
</ul>
<p><img src="img/16.png" alt="Figure 9: Turn on Google Maps Android API v2"></p>
<p>Here is a summary of the data that should be retained securely:</p>
<ul>
<li>The login | password pair for the Google account</li>
<li>The SHA-1 fingerprint</li>
<li>The API keys</li>
</ul>

      </div>
     
      <div  class="ui tab segment lab" data-tab="04">
        <h1>Resources (Manifest)</h1>
<p>In AndroidManifest.xml:</p>
<ul>
<li>Add GoogleMap permissions following the <em>uses-sdk</em> node:</li>
</ul>
<pre><code>  &lt;uses-permission android:name=&quot;android.permission.INTERNET&quot;/&gt;
  &lt;uses-permission android:name=&quot;android.permission.ACCESS_NETWORK_STATE&quot;/&gt;
  &lt;uses-permission android:name=&quot;android.permission.WRITE_EXTERNAL_STORAGE&quot;/&gt;
  &lt;!--  The following two permissions are not required to use
        Google Maps Android API v2, but are recommended. --&gt;
  &lt;uses-permission android:name=&quot;android.permission.ACCESS_COARSE_LOCATION&quot;/&gt;
  &lt;uses-permission android:name=&quot;android.permission.ACCESS_FINE_LOCATION&quot;/&gt;</code></pre>
<ul>
<li>Immediately before the closing <em>application</em> tag add these metadata nodes:</li>
</ul>
<pre><code>    &lt;!-- Google maps--&gt;
    &lt;meta-data
        android:name=&quot;com.google.android.gms.version&quot;
        android:value=&quot;@integer/google_play_services_version&quot; /&gt;

    &lt;meta-data
        android:name=&quot;com.google.android.geo.API_KEY&quot;
        android:value=&quot;${google_map_key}&quot;/&gt;</code></pre>
<p>The term <em>${google_map_key}</em> is a reference to your API keys.</p>
<p>Insert your key into build.gradle. Complete and add this line:</p>
<pre><code>manifestPlaceholders = [ google_map_key:&quot;AIza...&quot;]</code></pre>
<p><em>AIza...</em> should be replaced by your key.</p>
<p>Your build.gradle file should match the following but with your key inserted instead of the sample one provided.</p>
<pre><code>apply plugin: &#39;com.android.application&#39;

android {
  compileSdkVersion 23
  buildToolsVersion &quot;23&quot;

  defaultConfig {
    applicationId &quot;org.wit.myrent&quot;
    minSdkVersion 16
    targetSdkVersion 19
    versionCode 1
    versionName &quot;1.0&quot;
  }
  buildTypes {
    release {
      minifyEnabled false
      proguardFiles getDefaultProguardFile(&#39;proguard-android.txt&#39;), &#39;proguard-rules.pro&#39;
      manifestPlaceholders = [ google_map_key:&quot;AIzaSyBsrMd6DYwn5YlsV8wvaoEEmWspJNgOcu0&quot;]
    }
    debug {
      manifestPlaceholders = [ google_map_key:&quot;AIzaSyBsrMd6DYwn5YlsV8wvaoEEmWspJNgOcu0&quot;]
    }
  }
}

dependencies {
  compile fileTree(dir: &#39;libs&#39;, include: [&#39;*.jar&#39;])
  compile &#39;com.android.support:support-v4:23.0.1&#39;
  compile &#39;com.google.android.gms:play-services:7.5.0&#39;

}</code></pre>
<p>For reference here is the up-to-date manifest file:</p>
<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;
&lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;
          package=&quot;org.wit.myrent&quot;&gt;

  &lt;uses-permission android:name=&quot;android.permission.READ_CONTACTS&quot; /&gt;
  &lt;!--Required for network access --&gt;
  &lt;uses-permission android:name=&quot;android.permission.INTERNET&quot;/&gt;
  &lt;uses-permission android:name=&quot;android.permission.ACCESS_NETWORK_STATE&quot;/&gt;
  &lt;uses-permission android:name=&quot;android.permission.WRITE_EXTERNAL_STORAGE&quot;/&gt;
  &lt;!--  Not required but recommended for Google Maps Android API v2 --&gt;
  &lt;uses-permission android:name=&quot;android.permission.ACCESS_COARSE_LOCATION&quot;/&gt;
  &lt;uses-permission android:name=&quot;android.permission.ACCESS_FINE_LOCATION&quot;/&gt;

  &lt;application
      android:name=&quot;.app.MyRentApp&quot;
      android:allowBackup=&quot;true&quot;
      android:icon=&quot;@mipmap/ic_launcher&quot;
      android:label=&quot;@string/app_name&quot;
      android:theme=&quot;@style/AppTheme&quot;&gt;

    &lt;!-- ResidenceListActivity --&gt;
    &lt;activity
        android:name=&quot;.activities.ResidenceListActivity&quot;
        android:label=&quot;@string/app_name&quot; &gt;
      &lt;intent-filter&gt;
        &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;
        &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;
      &lt;/intent-filter&gt;
    &lt;/activity&gt;

    &lt;!-- ResidencePagerActivity --&gt;
    &lt;activity
        android:name=&quot;.activities.ResidencePagerActivity&quot;
        android:label=&quot;@string/app_name&quot;
        android:windowSoftInputMode=&quot;stateHidden|adjustResize&quot; &gt;

      &lt;meta-data
          android:name=&quot;android.support.PARENT_ACTIVITY&quot;
          android:value=&quot;org.wit.myrent.activities.ResidenceListActivity&quot;/&gt;
    &lt;/activity&gt;

    &lt;meta-data
        android:name=&quot;com.google.android.gms.version&quot;
        android:value=&quot;@integer/google_play_services_version&quot; /&gt;

    &lt;meta-data
        android:name=&quot;com.google.android.geo.API_KEY&quot;
        android:value=&quot;${google_map_key}&quot;/&gt;

  &lt;/application&gt;

&lt;/manifest&gt;</code></pre>

      </div>
     
      <div  class="ui tab segment lab" data-tab="05">
        <h1>Resources (Layout)</h1>
<p>Refactor the layout of the detail view:</p>
<p><img src="img/17.png" alt="Figure 1: ResidenceFragment layout"></p>
<p>Filename: fragment_residence.xml</p>
<pre><code>&lt;LinearLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;
    android:layout_width=&quot;match_parent&quot;
    android:layout_height=&quot;match_parent&quot;
    android:orientation=&quot;vertical&quot; &gt;   
  &lt;LinearLayout
      android:layout_width=&quot;match_parent&quot;
      android:layout_height=&quot;0dp&quot;
      android:layout_weight=&quot;60&quot;
      android:baselineAligned=&quot;false&quot;
      android:orientation=&quot;vertical&quot; &gt;      
     &lt;!-- LOCATION --&gt;
     &lt;TextView
       android:layout_width=&quot;match_parent&quot;
       android:layout_height=&quot;wrap_content&quot;
       android:text=&quot;@string/location&quot;
       style=&quot;?android:listSeparatorTextViewStyle&quot;/&gt; 
      &lt;LinearLayout
         android:layout_width=&quot;match_parent&quot;
         android:layout_height=&quot;wrap_content&quot;
         android:orientation=&quot;horizontal&quot; 
         android:baselineAligned=&quot;false&quot; &gt;

      &lt;!-- Geolocation (GPS Coords) --&gt;      
      &lt;LinearLayout
        android:layout_width=&quot;0dp&quot;
        android:layout_height=&quot;match_parent&quot;
        android:layout_weight=&quot;60&quot;
        android:orientation=&quot;vertical&quot; &gt;  
      &lt;TextView
        android:layout_width=&quot;wrap_content&quot;
        android:layout_height=&quot;wrap_content&quot;
        android:layout_marginLeft=&quot;10dp&quot;
        android:text=&quot;@string/geolocation&quot; /&gt;

      &lt;EditText   
        android:id=&quot;@+id/geolocation&quot;
        android:layout_width=&quot;wrap_content&quot;
        android:layout_height=&quot;wrap_content&quot;
        android:hint=&quot;@string/geolocation_hint&quot; &gt;
        &lt;requestFocus /&gt;   
      &lt;/EditText&gt; 
    &lt;/LinearLayout&gt; 
    &lt;!-- Show Map Button --&gt;          
    &lt;LinearLayout
      android:layout_width=&quot;0dp&quot;
      android:layout_height=&quot;match_parent&quot;
      android:layout_weight=&quot;40&quot;
      android:orientation=&quot;vertical&quot; &gt;

      &lt;Button
          android:id=&quot;@+id/show_map&quot;
          android:layout_width=&quot;wrap_content&quot;
          android:layout_height=&quot;wrap_content&quot;
          android:layout_marginLeft=&quot;16dp&quot;
          android:layout_marginRight=&quot;16dp&quot;
          android:layout_marginTop=&quot;16dp&quot;
          android:enabled=&quot;false&quot; /&gt;

      &lt;/LinearLayout&gt;   
    &lt;/LinearLayout&gt;   
    &lt;!-- STATUS --&gt;   
    &lt;TextView
      android:layout_width=&quot;match_parent&quot;
      android:layout_height=&quot;wrap_content&quot;
      android:text=&quot;@string/status&quot;
      style=&quot;?android:listSeparatorTextViewStyle&quot;/&gt; 
    &lt;Button android:id=&quot;@+id/registration_date&quot;
      android:layout_width=&quot;match_parent&quot;
      android:layout_height=&quot;wrap_content&quot;
      android:layout_marginLeft=&quot;16dp&quot;
      android:layout_marginRight=&quot;16dp&quot; /&gt;
    &lt;CheckBox
        android:id=&quot;@+id/isrented&quot;
      android:layout_width=&quot;wrap_content&quot;
      android:layout_height=&quot;wrap_content&quot;
      android:enabled=&quot;true&quot;
        android:focusable=&quot;false&quot;
      android:gravity=&quot;center&quot;
      android:text=&quot;@string/isrented&quot;/&gt;
    &lt;Button
      android:id=&quot;@+id/tenant&quot;
      android:layout_width=&quot;match_parent&quot;
      android:layout_height=&quot;wrap_content&quot;
      android:layout_marginLeft=&quot;16dp&quot;
      android:layout_marginRight=&quot;16dp&quot;
      android:text=&quot;@string/landlord&quot; /&gt;  

    &lt;Button android:id=&quot;@+id/residence_reportButton&quot;
      android:layout_width=&quot;match_parent&quot;
      android:layout_height=&quot;wrap_content&quot;
      android:layout_marginLeft=&quot;16dp&quot;
      android:layout_marginRight=&quot;16dp&quot;
      android:text=&quot;@string/residence_report&quot;/&gt; 
  &lt;/LinearLayout&gt;   
  &lt;LinearLayout
    android:layout_width=&quot;match_parent&quot;
    android:layout_height=&quot;0dp&quot;
    android:layout_weight=&quot;40&quot;
    android:baselineAligned=&quot;false&quot;
    android:orientation=&quot;vertical&quot; &gt;

    &lt;FrameLayout
        android:id=&quot;@+id/map&quot;
        android:layout_width=&quot;match_parent&quot;
        android:layout_height=&quot;0dp&quot;
        android:layout_weight=&quot;0.88&quot; /&gt;
  &lt;/LinearLayout&gt;
&lt;/LinearLayout&gt;</code></pre>
<p>Figure 2 should help you to understand the changes made here.</p>
<p><img src="img/23.png" alt="Figure 2: Refactored layout"></p>

      </div>
     
      <div  class="ui tab segment lab" data-tab="06">
        <h1>Model</h1>
<p>Before we introduce the map code we shall modify the Residence model class allowing it to store the current zoom level of the map.</p>
<ul>
<li>The purpose is to ensure that the zoom level is retained as one switches between the list and detail views.</li>
</ul>
<p>Here are the code snippets to be added to Residence.java:</p>
<pre><code>    //New fields
    public double  zoom       ;//zoom level of accompanying map
    private static final String JSON_ZOOM           = &quot;zoom&quot;          ; //map zoom level</code></pre>
<p>Constructors:</p>
<pre><code>  public Residence()
  {
    ...
    zoom        = 16.0f;

  }

  public Residence(JSONObject json) throws JSONException
  {
    ...
    zoom          = json.getDouble(JSON_ZOOM);
  }</code></pre>
<p>toJSON method</p>
<pre><code>  public JSONObject toJSON() throws JSONException
  {
    ...
    json.put(JSON_ZOOM          , zoom);

    return json;
  }</code></pre>

      </div>
     
      <div  class="ui tab segment lab" data-tab="07">
        <h1>Helpers</h1>
<p>Add this helper class to the <em>org.wit.android.helpers</em> package:</p>
<pre><code>package org.wit.android.helpers;

import android.content.Context;
import com.google.android.gms.maps.model.LatLng;


public class MapHelper
{
  public static LatLng latLng(Context context, String geolocation)
  {
    String[] g = geolocation.split(&quot;,&quot;);
    if (g.length == 2)
    {
      return new LatLng(Double.parseDouble(g[0]), Double.parseDouble(g[1]));
    }
    return new LatLng(0, 0);

  }

  public static String latLng(LatLng geo)
  {

    return String.format(&quot;%.6f&quot;, geo.latitude) + &quot;, &quot; + String.format(&quot;%.6f&quot;, geo.longitude);
  }

}</code></pre>
<p>The method <em>LatLng latLng(String geolocation)</em> returns a LatLng object containing the latitude and longitude coordinates contained in the <em>String geolocation</em>.</p>
<p>The method <em>String latLng(LatLng geo)</em> returns a single string version of the coordinates contained in a LatLng object formed by concatenating the coordinates but separating them with a comma. For example:</p>
<p><img src="img/29.png" alt="Figure 1: Latitude longitude comma-separated pair"></p>
<p><a href="https://developer.android.com/reference/com/google/android/gms/maps/model/LatLng.html">LatLng</a> is a Google class representing a pair of latitude and longitude coordinates stored as degrees.</p>
<p>Please note that the use of a Context type as an argument above is not necessary at this time. We are including it here because it will be required later when we introduce validation and wish to generate Toast messages.</p>

      </div>
     
      <div  class="ui tab segment lab" data-tab="08">
        <h1>ResidenceFragment</h1>
<p>Here we shall add code to the ResidenceFragment class to support the embedded Google Map.</p>
<p>Add imports</p>
<pre><code>import com.google.android.gms.maps.CameraUpdateFactory;
import com.google.android.gms.maps.GoogleMap;
import com.google.android.gms.maps.model.CameraPosition;
import com.google.android.gms.maps.model.LatLng;
import com.google.android.gms.maps.model.Marker;
import com.google.android.gms.maps.model.MarkerOptions;
import com.google.android.gms.maps.SupportMapFragment;</code></pre>
<p>Add a method to initialize the map fragment:</p>
<pre><code>  private void initializeMapFragment()
  {
    FragmentManager fm = getChildFragmentManager();
    mapFragment = (SupportMapFragment) fm.findFragmentById(R.id.map);
    if (mapFragment == null)
    {
      mapFragment = SupportMapFragment.newInstance();
      fm.beginTransaction().replace(R.id.map, mapFragment).commit();
    }
  }</code></pre>
<p>This fragment may be initialized only when the containing fragment has been created (ResidenceFragment).</p>
<ul>
<li>To do this we override <em>onActivityCreated</em>:</li>
</ul>
<pre><code>  @Override
  public void onActivityCreated(Bundle savedInstanceState) 
  {
    super.onActivityCreated(savedInstanceState);
    initializeMapFragment();
  }</code></pre>
<p>Delete mapButton and associated statements as follows as shown in Figure 1 (3 items):</p>
<p><img src="img/30.png" alt="Figure 1: Delete mapButton field and associated actions"></p>
<p>Add instance variables;</p>
<pre><code>  SupportMapFragment mapFragment;
  GoogleMap gmap;
  Marker marker;
  LatLng markerPosition;
  boolean markerDragged;</code></pre>
<p>Note the boolean flag above (markerDragged).</p>
<ul>
<li>The flag is used to distinguish between geolocations input by the user and those generated by moving the marker.</li>
</ul>
<p>We use the flag to avoid conflict that would otherwise arise as follows:</p>
<ul>
<li>The geolocation EditText control listens for any inputs by the user.</li>
<li>When an input is detected the map immediately places a marker at this location and displays itself on the screen.</li>
<li>If a user then drags the marker, representing a new geolocation, the code writes this new position to the EditText box.</li>
<li>However, this change to the EditText box, without intervention, would trigger an unnecessary rendering of the map.</li>
</ul>
<p>To avoid this potential cyclical behaviour, replace the <em>afterTextChanged(Editable)</em> method with the following:</p>
<pre><code>  @Override
  public void afterTextChanged(Editable c)
  {
    String thisGeolocation = c.toString();
    Log.i(this.getClass().getSimpleName(), &quot;geolocation &quot; + thisGeolocation);
    residence.geolocation = thisGeolocation;
    getActivity().setTitle(thisGeolocation);
    // using a flag, markerDragged, to avoid race condition
    if (markerDragged == true)
    {
      markerDragged = false;
    }
    else
    {
      renderMap(MapHelper.latLng(getActivity(), thisGeolocation));
    }
  }</code></pre>
<p>Change class signature to implement:</p>
<pre><code>GoogleMap.OnMarkerDragListener
GoogleMap.OnCameraChangeListener</code></pre>
<p>New signature is:</p>
<pre><code>public class ResidenceFragment extends SupportMapFragment implements TextWatcher, 
                                                        OnCheckedChangeListener, 
                                                        OnClickListener, 
                                                        DatePickerDialog.OnDateSetListener,
                                                        GoogleMap.OnMarkerDragListener,
                                                        GoogleMap.OnCameraChangeListener</code></pre>
<p>This change necessitates implementation of associated interface methods.</p>
<p>Here are the methods which we have, where applicable, fully implemented. First are the implementations of the OnMarkerDragListener interface:</p>
<pre><code>  @Override
  public void onMarkerDrag(Marker arg0)
  {
  }

  @Override
  public void onMarkerDragEnd(Marker marker) {

    residence.geolocation = MapHelper.latLng(marker.getPosition());
    getActivity().setTitle(residence.geolocation);
    gmap.animateCamera(CameraUpdateFactory.newLatLng(marker.getPosition()));
    markerDragged = true;
  }

  @Override
  public void onMarkerDragStart(Marker arg0)
  {
  }</code></pre>
<p>Here is the implementation of the <a href="http://developer.android.com/reference/com/google/android/gms/maps/GoogleMap.OnCameraChangeListener.html">OnCameraChangeListener</a>:</p>
<pre><code>  @Override
  public void onCameraChange(CameraPosition cameraPosition)
  {
    residence.zoom = cameraPosition.zoom;
    markerPosition = MapHelper.latLng(getActivity(), residence.geolocation);
    if (marker != null)
    {
      marker.remove();
      marker = null;
    }

    marker = gmap.addMarker(new MarkerOptions().position(markerPosition).draggable(true).title(&quot;Residence&quot;).alpha(0.7f)
        .snippet(&quot;GPS : &quot; + markerPosition.toString()));

  }</code></pre>
<p>Next is the method to render the map:</p>
<pre><code>  private void renderMap(LatLng markerPosition)
  {
    if (mapFragment != null)
    {
      gmap = mapFragment.getMap();
      if (gmap != null)
      {
        gmap.animateCamera(CameraUpdateFactory.newLatLngZoom(markerPosition, (float) residence.zoom));
        gmap.setMapType(GoogleMap.MAP_TYPE_HYBRID);
        gmap.setOnMarkerDragListener(this);
        gmap.setOnCameraChangeListener(this);
      }
    }
  }</code></pre>
<p>Next we override <em>onStart()</em> within which we invoke <em>renderMap</em> and register a listener to detect any changes to the map:</p>
<pre><code>  @Override
  public void onStart()
  {
    super.onStart();
    renderMap(MapHelper.latLng(getActivity(), residence.geolocation));
    gmap.setOnCameraChangeListener(this);
  }</code></pre>
<p>Ensure that <em>super</em> is called in <em>onCreateView</em>:</p>
<pre><code>    super.onCreateView(inflater, parent, savedInstanceState);</code></pre>
<p>Test the app as follows:</p>
<ul>
<li>Create a new residence and check the details view.</li>
<li>Create a new residence and change the default geolocation. <ul>
<li>The marker and map should reflect the new geolocation.</li>
</ul>
</li>
<li>Change the zoom level, switch to the list view and back: the zoom level should be retained.</li>
</ul>
<p>If you modify the geolocation such that the input becomes invalid then the app will crash. Here is example of invalid data:</p>
<p><img src="img/25.png" alt="Figure 2: Example of invalid data"></p>
<p>We can solve this by introducing a <em>try-catch</em> block to <em>MapHelper.latLng(Context, String)</em> as follows:</p>
<pre><code>package org.wit.android.helpers;

import android.content.Context;
import android.widget.Toast;
import com.google.android.gms.maps.model.LatLng;
import java.lang.NumberFormatException;
import static org.wit.android.helpers.LogHelpers.info;

public class MapHelper
{
  public static LatLng latLng(Context context, String geolocation)
  {
    String[] g = geolocation.split(&quot;,&quot;);
    try
    {
      if (g.length == 2)
      {
        return new LatLng(Double.parseDouble(g[0]), Double.parseDouble(g[1]));
      }
    }
    catch (NumberFormatException e)
    {
      info(context, &quot;Number format exception: invalid geolocation: &quot; + e.getMessage());
    }
    Toast.makeText(context, &quot;An invalid geolocation has been entered: defaulting to 0,0&quot;, Toast.LENGTH_SHORT).show();
    return new LatLng(0, 0);

  }

  public static String latLng(LatLng geo)
  {

    return String.format(&quot;%.6f&quot;, geo.latitude) + &quot;, &quot; + String.format(&quot;%.6f&quot;, geo.longitude);
  }

}</code></pre>
<p>Add these import statements:</p>
<pre><code>import java.lang.NumberFormatException;
import android.widget.Toast;</code></pre>
<p>Test this validation as follows:</p>
<ul>
<li>Continue deleting digits from the default geolocation until the data is invalid as shown in Figure 1 above.</li>
<li>This will result in Toast messages being generated as shown in Figure 3.</li>
<li>Once you correct the input these messages are no longer generated and the map should automatically render correctly.</li>
</ul>
<p><img src="img/26.png" alt="Figure 3: Incorrectly entered geolocation triggers Toast warning"></p>
<p>The final task in this step is to immediately mirror the geolocation in the title as the input is changed (as shown in Figure 4).</p>
<ul>
<li>To do this, refactor the method <em>onMarkerDragEnd</em>.</li>
</ul>
<p><img src="img/28.png" alt="Figure 4: Title mirrors geolocation input field"></p>
<p>Simply add the following line of code at the end of <em>onMarkerDragEnd</em>.</p>
<pre><code>geolocation.setText(residence.geolocation);</code></pre>
<p>Run the app and test the features added above namely those that ensure that:</p>
<ul>
<li>A map is rendered</li>
<li>Inputting invalid data generates a Toast message</li>
<li>Inputting valid data following the toast message results in the map rendering correctly</li>
<li>The title immediately mirrors any changes in the geolocation input.</li>
<li>The EditText input box display changes dynamically as the marker is dragged.</li>
</ul>

      </div>
     
      <div  class="ui tab segment lab" data-tab="09">
        <h1>Scrollable (portrait)</h1>
<p>Make the data-input portion of the details view scrollable.</p>
<p>Official documentation on ScrollView is available <a href="http://developer.android.com/reference/android/widget/ScrollView.html">here</a>:</p>
<p>  <img src="img/20.png" alt="Figure 1: Extract official ScrollView documentation"></p>
<p>Here is the refactoted <em>fragment_residence.xml</em>:</p>
<pre><code>&lt;LinearLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;
    android:layout_width=&quot;match_parent&quot;
    android:layout_height=&quot;match_parent&quot;
    android:orientation=&quot;vertical&quot; &gt;   
  &lt;LinearLayout
      android:layout_width=&quot;match_parent&quot;
      android:layout_height=&quot;0dp&quot;
      android:layout_weight=&quot;60&quot;
      android:baselineAligned=&quot;false&quot;
      android:orientation=&quot;vertical&quot; &gt; 
      &lt;ScrollView 
        android:layout_width=&quot;fill_parent&quot;
        android:layout_height=&quot;wrap_content&quot;&gt;  
        &lt;LinearLayout 
          android:id=&quot;@+id/container&quot;
          android:orientation=&quot;vertical&quot; 
          android:layout_width=&quot;fill_parent&quot;
          android:layout_height=&quot;wrap_content&quot;&gt;   
          &lt;!-- LOCATION --&gt;
          &lt;TextView
            android:layout_width=&quot;match_parent&quot;
            android:layout_height=&quot;wrap_content&quot;
            android:text=&quot;@string/location&quot;
            style=&quot;?android:listSeparatorTextViewStyle&quot;/&gt; 
            &lt;LinearLayout
              android:layout_width=&quot;match_parent&quot;
              android:layout_height=&quot;wrap_content&quot;
              android:orientation=&quot;horizontal&quot; 
              android:baselineAligned=&quot;false&quot; &gt;             
             &lt;!-- Geolocation (GPS Coords) --&gt;      
             &lt;LinearLayout
               android:layout_width=&quot;0dp&quot;
               android:layout_height=&quot;match_parent&quot;
               android:layout_weight=&quot;60&quot;
               android:orientation=&quot;vertical&quot; &gt;  
             &lt;TextView
               android:layout_width=&quot;wrap_content&quot;
               android:layout_height=&quot;wrap_content&quot;
               android:layout_marginLeft=&quot;10dp&quot;
               android:text=&quot;@string/geolocation&quot; /&gt;            
             &lt;EditText   
               android:id=&quot;@+id/geolocation&quot;
               android:layout_width=&quot;wrap_content&quot;
               android:layout_height=&quot;wrap_content&quot;
               android:hint=&quot;@string/geolocation_hint&quot; &gt;
               &lt;requestFocus /&gt;
             &lt;/EditText&gt; 
           &lt;/LinearLayout&gt; 
           &lt;!-- Show Map Button --&gt;          
           &lt;LinearLayout
             android:layout_width=&quot;0dp&quot;
             android:layout_height=&quot;match_parent&quot;
             android:layout_weight=&quot;40&quot;
             android:orientation=&quot;vertical&quot; &gt;                        
            &lt;Button
              android:id=&quot;@+id/show_map&quot;
              android:layout_width=&quot;wrap_content&quot;
              android:layout_height=&quot;wrap_content&quot;
              android:layout_marginLeft=&quot;16dp&quot;
              android:layout_marginRight=&quot;16dp&quot;
              android:layout_marginTop=&quot;16dp&quot;
              android:enabled=&quot;false&quot; /&gt;        
            &lt;/LinearLayout&gt;   
          &lt;/LinearLayout&gt;   
          &lt;!-- STATUS --&gt;   
          &lt;TextView
            android:layout_width=&quot;match_parent&quot;
            android:layout_height=&quot;wrap_content&quot;
            android:text=&quot;@string/status&quot;
            style=&quot;?android:listSeparatorTextViewStyle&quot;/&gt; 
          &lt;Button android:id=&quot;@+id/registration_date&quot;
            android:layout_width=&quot;match_parent&quot;
            android:layout_height=&quot;wrap_content&quot;
            android:layout_marginLeft=&quot;16dp&quot;
            android:layout_marginRight=&quot;16dp&quot; /&gt;
          &lt;CheckBox
            android:id=&quot;@+id/isrented&quot;
            android:layout_width=&quot;wrap_content&quot;
            android:layout_height=&quot;wrap_content&quot;
            android:enabled=&quot;true&quot;
            android:focusable=&quot;false&quot;
            android:gravity=&quot;center&quot;
            android:text=&quot;@string/isrented&quot;/&gt;
          &lt;Button
            android:id=&quot;@+id/tenant&quot;
            android:layout_width=&quot;match_parent&quot;
            android:layout_height=&quot;wrap_content&quot;
            android:layout_marginLeft=&quot;16dp&quot;
            android:layout_marginRight=&quot;16dp&quot;
            android:text=&quot;@string/landlord&quot; /&gt;    
          &lt;Button android:id=&quot;@+id/residence_reportButton&quot;
            android:layout_width=&quot;match_parent&quot;
            android:layout_height=&quot;wrap_content&quot;
            android:layout_marginLeft=&quot;16dp&quot;
            android:layout_marginRight=&quot;16dp&quot;
            android:text=&quot;@string/residence_report&quot;/&gt; 
        &lt;/LinearLayout&gt;
      &lt;/ScrollView&gt;
    &lt;/LinearLayout&gt;   
    &lt;LinearLayout
      android:layout_width=&quot;match_parent&quot;
      android:layout_height=&quot;0dp&quot;
      android:layout_weight=&quot;40&quot;
      android:baselineAligned=&quot;false&quot;
      android:orientation=&quot;vertical&quot; &gt;

      &lt;FrameLayout
          android:id=&quot;@+id/map&quot;
          android:layout_width=&quot;match_parent&quot;
          android:layout_height=&quot;wrap_content&quot;/&gt;
    &lt;/LinearLayout&gt;
&lt;/LinearLayout&gt;</code></pre>
<p>Replace the existing code with above and test that the details view is now scrollable:</p>
<ul>
<li>Note that the map section is not scrollable.</li>
<li>Note also that the introduction of this change may result in the soft keyboard being automatically opened when the app is installed on a physical device. </li>
<li>To avoid this occurrence modify the ResidencePagerActivity in the Manifest file as follows:</li>
</ul>
<pre><code>    &lt;activity 
        android:name=&quot;.activities.ResidencePagerActivity&quot;
        android:label=&quot;@string/app_name&quot;
        android:windowSoftInputMode=&quot;stateHidden|adjustResize&quot; &gt;</code></pre>
<p>Figure 1 should help you to understand the changes made here.</p>
<p><img src="img/24.png" alt="Figure 1: Refactored layout includes ScrollView"></p>

      </div>
     
      <div  class="ui tab segment lab" data-tab="10">
        <h1>Landscape</h1>
<p>We shall now add a landscape layout.</p>
<p>Switch to Project tab in the tools window.</p>
<ul>
<li>Create a new folder (directory) in <em>res</em> named <em>layout-land</em>.</li>
<li>Add the following <em>fragment_residence.xml</em> file to this folder.</li>
<li>Build and install the app on a device and check that the details view renders satisfactorily in both portrait and landscape modes.</li>
<li>Study the landscape and portrait files and note small number of changes made to the portrait version to make it suitable for landscape.</li>
</ul>
<pre><code>&lt;LinearLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;
    android:layout_width=&quot;match_parent&quot;
    android:layout_height=&quot;match_parent&quot;
    android:orientation=&quot;horizontal&quot; android:baselineAligned=&quot;false&quot;&gt;
  &lt;LinearLayout
    android:layout_width=&quot;0dp&quot;
    android:layout_height=&quot;match_parent&quot;
    android:layout_weight=&quot;60&quot;
    android:baselineAligned=&quot;false&quot;
    android:orientation=&quot;vertical&quot; &gt;
    &lt;ScrollView 
      android:layout_width=&quot;fill_parent&quot;
      android:layout_height=&quot;wrap_content&quot;&gt;  
      &lt;LinearLayout 
        android:id=&quot;@+id/container&quot;
        android:orientation=&quot;vertical&quot; 
        android:layout_width=&quot;fill_parent&quot;
        android:layout_height=&quot;wrap_content&quot;&gt;   
       &lt;!-- LOCATION --&gt;
       &lt;TextView
         android:layout_width=&quot;match_parent&quot;
         android:layout_height=&quot;wrap_content&quot;
         android:text=&quot;@string/location&quot;
         style=&quot;?android:listSeparatorTextViewStyle&quot;/&gt; 
        &lt;LinearLayout
          android:layout_width=&quot;match_parent&quot;
          android:layout_height=&quot;wrap_content&quot;
          android:orientation=&quot;horizontal&quot; 
          android:baselineAligned=&quot;false&quot;&gt;           
        &lt;!-- Geolocation (GPS Coords) --&gt;      
        &lt;LinearLayout
          android:layout_width=&quot;0dp&quot;
          android:layout_height=&quot;match_parent&quot;
          android:layout_weight=&quot;60&quot;
          android:orientation=&quot;vertical&quot; &gt;        
          &lt;TextView
            android:layout_width=&quot;wrap_content&quot;
            android:layout_height=&quot;wrap_content&quot;
            android:layout_marginLeft=&quot;10dp&quot;
            android:text=&quot;@string/geolocation&quot; /&gt;             
          &lt;EditText   
            android:id=&quot;@+id/geolocation&quot;
            android:layout_width=&quot;wrap_content&quot;
            android:layout_height=&quot;wrap_content&quot;
            android:hint=&quot;@string/geolocation_hint&quot; &gt;
           &lt;requestFocus /&gt;   
          &lt;/EditText&gt; 
        &lt;/LinearLayout&gt; 
        &lt;!-- Show Map Button --&gt;          
        &lt;LinearLayout
          android:layout_width=&quot;0dp&quot;
          android:layout_height=&quot;match_parent&quot;
          android:layout_weight=&quot;40&quot;
          android:orientation=&quot;vertical&quot; &gt;                     
          &lt;Button
            android:id=&quot;@+id/show_map&quot;
            android:layout_width=&quot;wrap_content&quot;
            android:layout_height=&quot;wrap_content&quot;
            android:layout_marginLeft=&quot;16dp&quot;
            android:layout_marginRight=&quot;16dp&quot;
            android:layout_marginTop=&quot;16dp&quot;
            android:enabled=&quot;false&quot; /&gt;      
        &lt;/LinearLayout&gt;
      &lt;/LinearLayout&gt;   
      &lt;!-- STATUS --&gt;   
      &lt;TextView
        android:layout_width=&quot;match_parent&quot;
        android:layout_height=&quot;wrap_content&quot;
        android:text=&quot;@string/status&quot;
        style=&quot;?android:listSeparatorTextViewStyle&quot;/&gt;     
        &lt;Button 
          android:id=&quot;@+id/registration_date&quot;
          android:layout_width=&quot;match_parent&quot;
          android:layout_height=&quot;wrap_content&quot;
          android:layout_marginLeft=&quot;16dp&quot;
          android:layout_marginRight=&quot;16dp&quot;/&gt;

       &lt;CheckBox
          android:id=&quot;@+id/isrented&quot;
          android:layout_width=&quot;wrap_content&quot;
          android:layout_height=&quot;wrap_content&quot;
          android:enabled=&quot;true&quot;
          android:focusable=&quot;false&quot;
          android:gravity=&quot;center&quot;
          android:text=&quot;@string/isrented&quot;/&gt;
        &lt;Button
          android:id=&quot;@+id/tenant&quot;
          android:layout_width=&quot;match_parent&quot;
          android:layout_height=&quot;wrap_content&quot;
          android:layout_marginLeft=&quot;16dp&quot;
          android:layout_marginRight=&quot;16dp&quot;
          android:text=&quot;@string/landlord&quot; /&gt;  

        &lt;Button android:id=&quot;@+id/residence_reportButton&quot;
          android:layout_width=&quot;match_parent&quot;
          android:layout_height=&quot;wrap_content&quot;
          android:layout_marginLeft=&quot;16dp&quot;
          android:layout_marginRight=&quot;16dp&quot;
          android:text=&quot;@string/residence_report&quot;/&gt; 
      &lt;/LinearLayout&gt;
    &lt;/ScrollView&gt;
  &lt;/LinearLayout&gt;   
  &lt;LinearLayout
    android:layout_width=&quot;0dp&quot;
    android:layout_height=&quot;match_parent&quot;
    android:layout_weight=&quot;40&quot;
    android:baselineAligned=&quot;false&quot;
    android:orientation=&quot;vertical&quot; &gt;

    &lt;FrameLayout
      android:id=&quot;@+id/map&quot;
      android:layout_width=&quot;match_parent&quot;
      android:layout_height=&quot;wrap_content&quot;/&gt;
  &lt;/LinearLayout&gt;
&lt;/LinearLayout&gt;</code></pre>
<p>Test the scrollable feature in both portrait and landscape modes.</p>
<ul>
<li>It may be necessary to do so on a physical device (phone) as the scrollable feature is only evident when the screen size demands it.</li>
</ul>
<p><img src="img/31.png" alt="Figure 1: Landscape layout"></p>

      </div>
     
    </div>
  </div>
</div>
  <div class="ui bottom fixed borderless right menu">
    <div class="ui right tiny menu">
      <div class="ui mini message segment">
        <a href="mailto:edeleastar@wit.ie">Eamonn de Leastar</a> & <a href="johnjfitzgerald@outlook.com">John Fitzgerald</a>, <a href="http:/www.wit.ie"> WIT </a>.
        <a  href="http://creativecommons.org/licenses/by-nc/4.0/" title="External link to http://creativecommons.org/licenses/by-nc/4.0/"
            target="_blank">Creative Commons License
        </a>
      </div>
    </div>
  </div>

    <footer>

    </footer>
    <script>
      
$(document).ready(function()
{
  $("img").addClass ("ui image");
  $('.ui.embed').embed();

  var images = $(".lab img");
  jQuery.each(images, function(i)  {
    if((images[i].alt).length > 0)
    {
      var div_img = $(document.createElement("div")).addClass("ui segment");
      $(images[i]).wrap(div_img);
      var div_label = $(document.createElement("div")).addClass("ui ribbon teal top attached label");
      div_label.append(images[i].alt);
      $(div_label).insertBefore(images[i]);
    }
  });


  $('.ui.menu .item')
      .tab({
        history: true,
        historyType: 'hash',
      });

  $('.popup').popup();

  $('.ui.sidebar')
      .sidebar({ context: $('.pushable') })
      .sidebar('setting', 'transition', 'slide out')
      .sidebar('attach events', '#toc');
});

    </script>
  </body>

 </html>